<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cardápio Digital - Restaurante</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js';
        import { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc, onSnapshot } from 'https://www.gstatic.com/firebasejs/12.3.0/firebase-firestore.js';
        
        // Configuração do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyAKqzZnPBf98kXGVqP_i029eFtkGomaO3s",
            authDomain: "cardapioprincipal.firebaseapp.com",
            projectId: "cardapioprincipal",
            storageBucket: "cardapioprincipal.firebasestorage.app",
            messagingSenderId: "1086885893",
            appId: "1:1086885893:web:636ba9d07f43c59fb0bfcc"
        };
        
        // Inicializar Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
        // Tornar disponível globalmente
        window.db = db;
        window.firestore = { collection, addDoc, getDocs, doc, updateDoc, deleteDoc, onSnapshot };
        
        console.log('🔥 Firebase conectado com sucesso!');
    </script>
    
    <style>
        body {
            box-sizing: border-box;
        }
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .banner-slide {
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.5s ease-in-out;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .banner-slide.active {
            opacity: 1;
            transform: translateX(0);
        }
        
        .banner-indicator.active {
            opacity: 1 !important;
            transform: scale(1.2);
        }
        
        .dish-card {
            transition: all 0.3s ease;
        }
        
        .dish-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .price-tag {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
        }
        
        .whatsapp-btn {
            background: linear-gradient(135deg, #25D366, #128C7E);
            transition: all 0.3s ease;
        }
        
        .whatsapp-btn:hover {
            background: linear-gradient(135deg, #128C7E, #075E54);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.3);
        }
        
        .nav-btn:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .pulse-btn {
            animation: pulse 1.5s infinite, glow 2s infinite alternate, shake 3s infinite;
            background: linear-gradient(45deg, #ff0000, #ff6b00, #ffff00, #ff0000) !important;
            background-size: 400% 400% !important;
            animation: pulse 1.5s infinite, glow 2s infinite alternate, shake 3s infinite, gradient 2s ease infinite !important;
            border: 3px solid #ffff00 !important;
            position: relative;
            overflow: hidden;
        }
        
        .pulse-btn::before {
            content: '🔥';
            position: absolute;
            left: -5px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 16px;
            animation: fire 1s infinite;
        }
        
        .pulse-btn::after {
            content: '🔥';
            position: absolute;
            right: -5px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 16px;
            animation: fire 1s infinite reverse;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.8);
            }
            50% {
                transform: scale(1.1);
                box-shadow: 0 0 0 15px rgba(255, 215, 0, 0.3);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 0, 0, 0);
            }
        }
        
        @keyframes glow {
            0% {
                box-shadow: 0 0 5px #ff0000, 0 0 10px #ff0000, 0 0 15px #ff0000;
            }
            100% {
                box-shadow: 0 0 10px #ffff00, 0 0 20px #ffff00, 0 0 30px #ffff00, 0 0 40px #ffff00;
            }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0) scale(1); }
            10% { transform: translateX(-2px) scale(1.02); }
            20% { transform: translateX(2px) scale(1.02); }
            30% { transform: translateX(-2px) scale(1.02); }
            40% { transform: translateX(2px) scale(1.02); }
            50% { transform: translateX(0) scale(1.05); }
            60% { transform: translateX(-1px) scale(1.02); }
            70% { transform: translateX(1px) scale(1.02); }
            80% { transform: translateX(-1px) scale(1.02); }
            90% { transform: translateX(1px) scale(1.02); }
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes fire {
            0%, 100% { transform: translateY(-50%) scale(1); }
            50% { transform: translateY(-60%) scale(1.2); }
        }
        
        .text-shadow-lg {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }
        
        .text-shadow-md {
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }
        
        .category-btn.active {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            transform: scale(1.05);
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
        }
        
        .modal-content {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 700px;
            max-height: 80%;
            object-fit: contain;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover,
        .close:focus {
            color: #bbb;
            text-decoration: none;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            max-width: 300px;
            font-size: 14px;
            line-height: 1.4;
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .sync-indicator {
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: #4CAF50;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            z-index: 1000;
            display: none;
        }

        .sync-indicator.syncing {
            background: #ff9800;
            display: block;
        }

        .sync-indicator.error {
            background: #f44336;
            display: block;
        }

        @media (max-width: 768px) {
            .nav-btn {
                font-size: 14px;
                padding: 12px 16px;
            }
            
            .banner-slide h2 {
                font-size: 2rem;
            }
            
            .banner-slide p {
                font-size: 1rem;
            }
            
            .notification {
                right: 10px;
                left: 10px;
                max-width: none;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Sync Indicator -->
    <div id="syncIndicator" class="sync-indicator">
        <span class="loading"></span> Sincronizando...
    </div>

    <!-- Header -->
    <header class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 rounded-full overflow-hidden border-2 border-red-500">
                        <img src="https://blogger.googleusercontent.com/img/a/AVvXsEhtI8TskeLJv2S49G5NbBX_Q2-qmkJxU6mSkJLwoKCCe5qa6_HSm2n0XEvT0g11B7GUgXrs9iZ6feAlvrnFecAogM5L0P0nmTEPzrwUvJ3p8qKgtliQvWA1Ja6dUv68aV9TCNdgMoi_Qf_szWXgJQNjh-KfvjdAKN3KCF9OZEL7J84HE3YGn3wwJYzEHVuu" alt="Logo do Restaurante" class="w-full h-full object-cover" onerror="this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-white font-bold text-xl bg-gradient-to-r from-red-500 to-red-600 w-full h-full flex items-center justify-center rounded-full\'>R</span>';">
                    </div>
                    <div>
                        <h1 id="restaurantName" class="text-2xl font-bold text-gray-800">Cardápio Digital</h1>
                        <p id="restaurantSlogan" class="text-gray-600 text-sm">Sabores únicos, experiências inesquecíveis</p>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <span id="restaurantPhone" class="text-gray-600">📞 (83) 9179-5370</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Banner Section -->
    <div class="banner-container relative h-96 overflow-hidden">
        <div class="relative h-full">
            <!-- Slide 1 -->
            <div class="banner-slide slide-1 active flex items-center justify-center text-white text-center" style="background-image: url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjIygdJl0zlDqB2M-HKoX_kPWNt2Dnnt0juhtpwYnJqc4baAaGzzahREGevZWEzyXIngQ5gR2o1zbWyr_ZxmxY8iM9jzpeyIMNnx92n8xvNpNlbbnuAEpnxEwwjJnEV6fI3u9Lh7TNNC-8LWAtZiOjU-XMEipM7X3C5n1O6HJAnNS1cpPlCWNLkMOgUsMrD/s1584/Banner%20para%20LinkedIn%20Advogada%20Moderno%20Elegante%20Simples%20Azul%20Branco.png'); background-size: cover; background-position: center; background-repeat: no-repeat;">
                <div class="absolute inset-0 bg-black bg-opacity-40"></div>
                <div class="max-w-4xl mx-auto px-4 relative z-10">
                    <h1 class="text-5xl font-bold mb-4 text-shadow-lg">Bem-vindos ao nosso Restaurante</h1>
                    <p class="text-xl mb-8 text-shadow-md">Descubra sabores únicos e pratos especiais preparados com carinho</p>
                    <button onclick="scrollToSection('entradas')" class="bg-white text-gray-800 font-semibold py-3 px-8 rounded-full hover:bg-gray-100 transition-colors shadow-lg">
                        Ver Cardápio
                    </button>
                </div>
            </div>
            
            <!-- Slide 2 -->
            <div class="banner-slide slide-2 flex items-center justify-center text-white text-center" style="background-image: url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjuECi2xjpnvk3EfiX5cqj6qofdqy2tRifJmeELJoYX4E53FQfMVost7cLJTzmQAMFneHiJV0LW-JRzQTW9LTRUSaWZ8ZrGXY55vLVU4klYY840uD5XXr3Qoio1JtLq9cFR5xqo4Oq5D-y5PCkYwLDJtabV_ZaVydLGsSJY6TdREMNoAs-oMIpQm_-3HOrH/s6240/IMG_0588.jpeg'); background-size: cover; background-position: center; background-repeat: no-repeat;">
                <div class="absolute inset-0 bg-black bg-opacity-50"></div>
                <div class="max-w-4xl mx-auto px-4 relative z-10">
                    <h1 class="text-5xl font-bold mb-4 text-shadow-lg">Pratos Executivos</h1>
                    <p class="text-xl mb-8 text-shadow-md">Refeições completas e saborosas para o seu dia a dia</p>
                    <button onclick="scrollToSection('executivos')" class="bg-white text-gray-800 font-semibold py-3 px-8 rounded-full hover:bg-gray-100 transition-colors shadow-lg">
                        Ver Executivos
                    </button>
                </div>
            </div>
            
            <!-- Slide 3 -->
            <div class="banner-slide slide-3 flex items-center justify-center text-white text-center" style="background-image: url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgHIcIycf3R3LuY-iN4fMAGq-fYhqWzQqNY1pfqwMeEPz9ktQ81a8lrcDwsQPuxq2HuGJOja4hrPXh36Tt3OmuSyj21s9FEyBLK9KU0OdGPH_eKFRloDywjIZW2aibnjGqBsSygNw9G7t6ZAd882lJ3t3aKsDaKqxSnkQHWSmmCXTIKalTvk8mLQSZd2P8E/s16000/IMG_0469.jpeg'); background-size: cover; background-position: center; background-repeat: no-repeat;">
                <div class="absolute inset-0 bg-black bg-opacity-50"></div>
                <div class="max-w-4xl mx-auto px-4 relative z-10">
                    <h1 class="text-5xl font-bold mb-4 text-shadow-lg">Entradas Especiais</h1>
                    <p class="text-xl mb-8 text-shadow-md">Comece sua refeição com nossas deliciosas entradas</p>
                    <button onclick="scrollToSection('entradas')" class="bg-white text-gray-800 font-semibold py-3 px-8 rounded-full hover:bg-gray-100 transition-colors shadow-lg">
                        Ver Entradas
                    </button>
                </div>
            </div>
            
            <!-- Slide 4 -->
            <div class="banner-slide slide-4 flex items-center justify-center text-white text-center" style="background-image: url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEixP2cSPCmz4MddiB3uvXgmly3xOfaIL91HCmv8KgxNc6McBecOvNChyvhesS73iG0oPnR5tnAj951Ymes2yAi14h-UtOCXE85iDSn9ME8F1uH_0cQ4Gpiq6yPaqdwIJ05od3He9lXES-Y1wH26CVvsR_h16k3CcqefNoTZf-3PkF6UWjx3xmmMQ-TmXnbc/s3888/IMG_0483.jpeg'); background-size: cover; background-position: center; background-repeat: no-repeat;">
                <div class="absolute inset-0 bg-black bg-opacity-50"></div>
                <div class="max-w-4xl mx-auto px-4 relative z-10">
                    <h1 class="text-5xl font-bold mb-4 text-shadow-lg">Pratos Principais</h1>
                    <p class="text-xl mb-8 text-shadow-md">Experimente nossos pratos principais cheios de sabor</p>
                    <button onclick="scrollToSection('pratos-principais')" class="bg-white text-gray-800 font-semibold py-3 px-8 rounded-full hover:bg-gray-100 transition-colors shadow-lg">
                        Ver Pratos
                    </button>
                </div>
            </div>
            
            <!-- Slide 5 -->
            <div class="banner-slide slide-5 flex items-center justify-center text-white text-center" style="background-image: url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjwvwE6DcQbcze_mB2L4tneoeonRVv0eXCxXGSMiE1_f3NxBSkOeFhKNVC9QyTTVVVQgm6G5Oi59aUStQKVh7f5AODDYHn4rPRXlrwksG78o8KRQlCgP2Q3mRa5uLwADZ__0N_1_rx_92GzwXRIB4V7wYlfywNYh38YirtyklGexiCrVpj5wCehiJVrVslo/s3888/IMG_0474.jpeg'); background-size: cover; background-position: center; background-repeat: no-repeat;">
                <div class="absolute inset-0 bg-black bg-opacity-50"></div>
                <div class="max-w-4xl mx-auto px-4 relative z-10">
                    <h1 class="text-5xl font-bold mb-4 text-shadow-lg">Peça pelo WhatsApp</h1>
                    <p class="text-xl mb-8 text-shadow-md">Faça seu pedido de forma rápida e prática</p>
                    <button onclick="openWhatsApp('Cardápio Digital')" class="bg-green-500 text-white font-semibold py-3 px-8 rounded-full hover:bg-green-600 transition-colors flex items-center gap-2 mx-auto shadow-lg">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
                        </svg>
                        Fazer Pedido
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Indicators -->
        <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">
            <button class="banner-indicator w-3 h-3 bg-white rounded-full opacity-50 transition-all duration-300 active" data-slide="0"></button>
            <button class="banner-indicator w-3 h-3 bg-white rounded-full opacity-50 transition-all duration-300" data-slide="1"></button>
            <button class="banner-indicator w-3 h-3 bg-white rounded-full opacity-50 transition-all duration-300" data-slide="2"></button>
            <button class="banner-indicator w-3 h-3 bg-white rounded-full opacity-50 transition-all duration-300" data-slide="3"></button>
            <button class="banner-indicator w-3 h-3 bg-white rounded-full opacity-50 transition-all duration-300" data-slide="4"></button>
        </div>
    </div>

    <!-- Search and Navigation Section -->
    <section class="bg-white py-6 shadow-sm">
        <div class="container mx-auto px-4">
            <!-- Search Bar -->
            <div class="max-w-md mx-auto mb-8">
                <div class="relative">
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="Pesquisar pratos..." 
                        class="w-full pl-12 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:border-red-500 focus:outline-none transition-colors text-gray-700 bg-white shadow-lg"
                        oninput="searchDishes()"
                    >
                    <div class="absolute left-4 top-1/2 transform -translate-y-1/2">
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                    <button 
                        id="clearSearch" 
                        class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors hidden"
                        onclick="clearSearch()"
                    >
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="flex justify-center gap-2 sm:gap-4 mb-8 px-2">
                <button onclick="scrollToSection('entradas')" class="nav-btn bg-red-800 hover:bg-red-900 text-white font-bold py-3 px-3 sm:px-4 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 flex items-center justify-center min-w-0 flex-1 max-w-[100px] sm:max-w-none">
                    <span class="text-xs sm:text-sm font-semibold">Entradas</span>
                </button>
                
                <button onclick="showPrecoBaixo()" class="nav-btn bg-red-800 hover:bg-red-900 text-white font-bold py-3 px-3 sm:px-4 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 flex items-center justify-center min-w-0 flex-1 max-w-[100px] sm:max-w-none">
                    <span class="text-xs sm:text-sm font-semibold">Preço baixo</span>
                </button>
                
                <button onclick="openVinhos()" class="nav-btn bg-red-800 hover:bg-red-900 text-white font-bold py-3 px-3 sm:px-4 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 flex items-center justify-center min-w-0 flex-1 max-w-[100px] sm:max-w-none">
                    <span class="text-xs sm:text-sm font-semibold">Vinhos</span>
                </button>
                
                <button onclick="showPromotion()" class="nav-btn pulse-btn bg-red-800 hover:bg-red-900 text-white font-bold py-3 px-3 sm:px-4 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 flex items-center justify-center min-w-0 flex-1 max-w-[100px] sm:max-w-none">
                    <span class="text-xs sm:text-sm font-semibold">Promoção</span>
                </button>
                
                <button onclick="openBebidas()" class="nav-btn bg-red-800 hover:bg-red-900 text-white font-bold py-3 px-3 sm:px-4 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 flex items-center justify-center min-w-0 flex-1 max-w-[100px] sm:max-w-none">
                    <span class="text-xs sm:text-sm font-semibold">Bebidas</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Menu Container -->
    <div class="container mx-auto px-4 py-8">
        <!-- Search Results Section -->
        <div id="searchResults" class="mb-12 hidden">
            <h2 class="section-title text-3xl font-bold text-gray-800 mb-8 text-left pb-4" style="font-family: 'Mediapro', sans-serif;">
                Resultados da Pesquisa
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="searchGrid">
                <!-- Search results will be populated by JavaScript -->
            </div>
            <div id="noResults" class="text-center py-12 hidden">
                <div class="text-6xl mb-4">🔍</div>
                <h3 class="text-xl font-semibold text-gray-600 mb-2">Nenhum prato encontrado</h3>
                <p class="text-gray-500">Tente pesquisar com outras palavras-chave</p>
            </div>
        </div>

        <!-- Preço Baixo Section -->
        <div id="preco-baixo" class="mb-12 hidden">
            <h2 class="section-title text-3xl font-bold text-gray-800 mb-8 text-left pb-4" style="font-family: 'Mediapro', sans-serif;">
                💰 Preços Baixos (R$ 20 - R$ 50)
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="precoBaixoGrid">
                <!-- Preço baixo items will be populated by JavaScript -->
            </div>
        </div>

        <!-- Entradas Section -->
        <div id="entradas" class="mb-12">
            <h2 class="section-title text-3xl font-bold text-gray-800 mb-8 text-left pb-4" style="font-family: 'Mediapro', sans-serif;">
                Entradas
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="entradasGrid">
                <!-- Entradas will be loaded from database -->
            </div>
        </div>

        <!-- Pratos Principais Section -->
        <div id="pratos-principais" class="mb-12">
            <h2 class="section-title text-3xl font-bold text-gray-800 mb-8 text-left pb-4" style="font-family: 'Mediapro', sans-serif;">
                Pratos Principais
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="pratosGrid">
                <!-- Pratos principais will be loaded from database -->
            </div>
        </div>

        <!-- Pratos Executivos Section -->
        <div id="executivos" class="mb-12">
            <h2 class="section-title text-3xl font-bold text-gray-800 mb-8 text-left pb-4" style="font-family: 'Mediapro', sans-serif;">
                Pratos Executivos
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="executivosGrid">
                <!-- Pratos executivos will be loaded from database -->
            </div>
        </div>

        <!-- Sobremesas Section -->
        <div id="sobremesas" class="mb-12">
            <h2 class="section-title text-3xl font-bold text-gray-800 mb-8 text-left pb-4" style="font-family: 'Mediapro', sans-serif;">
                Sobremesas
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="sobremesasGrid">
                <!-- Sobremesas will be loaded from database -->
            </div>
        </div>
    </div>

    <!-- Scroll to Top Button -->
    <button 
        id="scrollToTop" 
        class="fixed bottom-6 right-6 bg-red-600 hover:bg-red-700 text-white p-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-300 z-50 opacity-0 invisible"
        onclick="scrollToTop()"
        aria-label="Voltar ao topo"
    >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
        </svg>
    </button>

    <!-- Modal para visualizar imagens -->
    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="modalImage" alt="Imagem ampliada">
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto px-4 text-center">
            <div class="border-t border-gray-700 pt-6">
                <p class="text-gray-400 text-sm">
                    © 2025 Todos os direitos reservados | Criado por 
                    <a href="https://instagram.com/zerotofameoficial" target="_blank" rel="noopener noreferrer" class="text-red-400 hover:text-red-300 font-semibold transition-colors">
                        @zerotofameoficial
                    </a>
                </p>
                
                <!-- Hidden Admin Button -->
                <div class="mt-4">
                    <button 
                        id="adminBtn" 
                        class="text-gray-600 hover:text-gray-500 text-xs opacity-30 hover:opacity-50 transition-all duration-300 bg-transparent border-none cursor-pointer"
                        onclick="handleAdminClick()"
                        title="Admin"
                    >
                        •
                    </button>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Global variables
        let currentSlide = 0;
        let adminClickCount = 0;
        let adminClickTimer = null;
        let isAdminMode = false;
        let allDishes = [];
        let restaurantInfo = {
            name: 'Cardápio Digital',
            slogan: 'Sabores únicos, experiências inesquecíveis',
            phone: '📞 (83) 9179-5370'
        };

        // Database functions
        class DatabaseManager {
            constructor() {
                this.isOnline = navigator.onLine;
                this.setupOfflineHandling();
            }

            setupOfflineHandling() {
                window.addEventListener('online', () => {
                    this.isOnline = true;
                    this.syncOfflineChanges();
                });
                
                window.addEventListener('offline', () => {
                    this.isOnline = false;
                    showNotification('📱 Modo offline ativado');
                });
            }

            showSyncIndicator(type = 'syncing') {
                const indicator = document.getElementById('syncIndicator');
                indicator.className = `sync-indicator ${type}`;
                
                if (type === 'syncing') {
                    indicator.innerHTML = '<span class="loading"></span> Sincronizando...';
                } else if (type === 'error') {
                    indicator.innerHTML = '❌ Erro na sincronização';
                    setTimeout(() => {
                        indicator.style.display = 'none';
                    }, 3000);
                }
            }

            hideSyncIndicator() {
                document.getElementById('syncIndicator').style.display = 'none';
            }

            async loadDishes() {
                try {
                    if (!this.isOnline) {
                        return this.loadFromLocalStorage();
                    }

                    this.showSyncIndicator('syncing');
                    
                    const querySnapshot = await window.firestore.getDocs(
                        window.firestore.collection(window.db, 'dishes')
                    );
                    
                    allDishes = [];
                    querySnapshot.forEach((doc) => {
                        allDishes.push({ id: doc.id, ...doc.data() });
                    });

                    // Save to localStorage for offline use
                    localStorage.setItem('dishes', JSON.stringify(allDishes));
                    
                    this.hideSyncIndicator();
                    this.renderAllDishes();
                    
                } catch (error) {
                    console.error('Erro ao carregar pratos:', error);
                    this.showSyncIndicator('error');
                    
                    // Fallback to localStorage
                    this.loadFromLocalStorage();
                }
            }

            loadFromLocalStorage() {
                const savedDishes = localStorage.getItem('dishes');
                if (savedDishes) {
                    allDishes = JSON.parse(savedDishes);
                    this.renderAllDishes();
                } else {
                    // Load default dishes if no data exists
                    this.loadDefaultDishes();
                }
            }

            loadDefaultDishes() {
                allDishes = [
                    {
                        id: 'default1',
                        name: 'Pastéis Sortidos',
                        description: 'Pastéis de carne, pepperoni, costela e carne de sol.',
                        price: 'R$ 29,90',
                        category: 'entradas',
                        emoji: '🥟',
                        imageUrl: ''
                    },
                    {
                        id: 'default2',
                        name: 'Pastéis de Camarão',
                        description: 'Pastéis com cream cheese e creme de camarão, servidos com molho de ervas.',
                        price: 'R$ 34,90',
                        category: 'entradas',
                        emoji: '🦐',
                        imageUrl: ''
                    },
                    {
                        id: 'default3',
                        name: 'Fritapá de Camarão',
                        description: 'Bolinho frito de vatapá de camarão com base de moqueca, crocante por fora e cremoso por dentro.',
                        price: 'R$ 25,90',
                        category: 'entradas',
                        emoji: '🍤',
                        imageUrl: ''
                    },
                    {
                        id: 'default4',
                        name: 'Ensopado de Vaca Atolada',
                        description: 'Caldinho cremoso de costela com macaxeira.',
                        price: 'R$ 15,90',
                        category: 'entradas',
                        emoji: '🍲',
                        imageUrl: ''
                    },
                    {
                        id: 'default5',
                        name: 'Caldo da Caridade',
                        description: 'Caldo de carne moída com legumes.',
                        price: 'R$ 16,90',
                        category: 'entradas',
                        emoji: '🥣',
                        imageUrl: ''
                    },
                    {
                        id: 'default6',
                        name: 'Carne de Sol com Macaxeira',
                        description: 'Carne de sol salteada na manteiga da terra e cebolas roxas, servida com macaxeira cremosa e cubos de queijo coalho.',
                        price: 'R$ 39,90',
                        category: 'entradas',
                        emoji: '🥩',
                        imageUrl: ''
                    },
                    {
                        id: 'default7',
                        name: 'Sol do Sertão',
                        description: 'Chips crocantes de macaxeira servidas com carne de sol desfiada e creme de nata.',
                        price: 'R$ 29,90',
                        category: 'entradas',
                        emoji: '🌞',
                        imageUrl: ''
                    },
                    {
                        id: 'default8',
                        name: 'Batata Frita',
                        description: 'Palitos de batata inglesa crocantes com raspas de queijo e molho da casa.',
                        price: 'R$ 16,90',
                        category: 'entradas',
                        emoji: '🍟',
                        imageUrl: ''
                    },
                    {
                        id: 'default9',
                        name: 'Franguim Avuado',
                        description: 'Meio da asa marinada no sous vide, frita e servida com molho barbecue asiático de abacaxi e gergelim.',
                        price: 'R$ 29,90',
                        category: 'entradas',
                        emoji: '🍗',
                        imageUrl: ''
                    },
                    {
                        id: 'default10',
                        name: 'Croquetas Caipira',
                        description: 'Croquetas de frango recheadas com milho e bacon.',
                        price: 'R$ 19,90',
                        category: 'entradas',
                        emoji: '🌽',
                        imageUrl: ''
                    }
                ];
                this.renderAllDishes();
            }

            async saveDish(dishData) {
                try {
                    if (this.isOnline) {
                        this.showSyncIndicator('syncing');
                        
                        const docRef = await window.firestore.addDoc(
                            window.firestore.collection(window.db, 'dishes'),
                            dishData
                        );
                        
                        dishData.id = docRef.id;
                        this.hideSyncIndicator();
                    } else {
                        // Generate temporary ID for offline
                        dishData.id = 'temp_' + Date.now();
                        dishData._offline = true;
                    }

                    allDishes.push(dishData);
                    localStorage.setItem('dishes', JSON.stringify(allDishes));
                    this.renderAllDishes();
                    
                    return dishData.id;
                    
                } catch (error) {
                    console.error('Erro ao salvar prato:', error);
                    this.showSyncIndicator('error');
                    throw error;
                }
            }

            async updateDish(dishId, dishData) {
                try {
                    if (this.isOnline && !dishId.startsWith('temp_')) {
                        this.showSyncIndicator('syncing');
                        
                        const dishRef = window.firestore.doc(window.db, 'dishes', dishId);
                        await window.firestore.updateDoc(dishRef, dishData);
                        
                        this.hideSyncIndicator();
                    } else {
                        dishData._offline = true;
                    }

                    // Update local array
                    const index = allDishes.findIndex(dish => dish.id === dishId);
                    if (index !== -1) {
                        allDishes[index] = { ...allDishes[index], ...dishData };
                        localStorage.setItem('dishes', JSON.stringify(allDishes));
                        this.renderAllDishes();
                    }
                    
                } catch (error) {
                    console.error('Erro ao atualizar prato:', error);
                    this.showSyncIndicator('error');
                    throw error;
                }
            }

            async deleteDish(dishId) {
                try {
                    if (this.isOnline && !dishId.startsWith('temp_')) {
                        this.showSyncIndicator('syncing');
                        
                        await window.firestore.deleteDoc(
                            window.firestore.doc(window.db, 'dishes', dishId)
                        );
                        
                        this.hideSyncIndicator();
                    }

                    // Remove from local array
                    allDishes = allDishes.filter(dish => dish.id !== dishId);
                    localStorage.setItem('dishes', JSON.stringify(allDishes));
                    this.renderAllDishes();
                    
                } catch (error) {
                    console.error('Erro ao deletar prato:', error);
                    this.showSyncIndicator('error');
                    throw error;
                }
            }

            async syncOfflineChanges() {
                const offlineDishes = allDishes.filter(dish => dish._offline);
                
                if (offlineDishes.length === 0) return;

                this.showSyncIndicator('syncing');
                
                try {
                    for (const dish of offlineDishes) {
                        if (dish.id.startsWith('temp_')) {
                            // New dish created offline
                            const { id, _offline, ...dishData } = dish;
                            const docRef = await window.firestore.addDoc(
                                window.firestore.collection(window.db, 'dishes'),
                                dishData
                            );
                            
                            // Update local ID
                            const index = allDishes.findIndex(d => d.id === id);
                            if (index !== -1) {
                                allDishes[index].id = docRef.id;
                                delete allDishes[index]._offline;
                            }
                        } else {
                            // Updated dish offline
                            const { _offline, ...dishData } = dish;
                            const dishRef = window.firestore.doc(window.db, 'dishes', dish.id);
                            await window.firestore.updateDoc(dishRef, dishData);
                            
                            delete dish._offline;
                        }
                    }
                    
                    localStorage.setItem('dishes', JSON.stringify(allDishes));
                    this.hideSyncIndicator();
                    showNotification('✅ Dados sincronizados com sucesso!');
                    
                } catch (error) {
                    console.error('Erro na sincronização:', error);
                    this.showSyncIndicator('error');
                }
            }

            renderAllDishes() {
                // Clear all grids
                document.getElementById('entradasGrid').innerHTML = '';
                document.getElementById('pratosGrid').innerHTML = '';
                document.getElementById('executivosGrid').innerHTML = '';
                document.getElementById('sobremesasGrid').innerHTML = '';

                // Group dishes by category
                const categories = {
                    'entradas': document.getElementById('entradasGrid'),
                    'pratos-principais': document.getElementById('pratosGrid'),
                    'executivos': document.getElementById('executivosGrid'),
                    'sobremesas': document.getElementById('sobremesasGrid')
                };

                allDishes.forEach(dish => {
                    const dishCard = this.createDishCard(dish);
                    const targetGrid = categories[dish.category] || categories['entradas'];
                    targetGrid.appendChild(dishCard);
                });

                // Add admin controls if in admin mode
                if (isAdminMode) {
                    setTimeout(() => {
                        addEditButtons();
                    }, 100);
                }
            }

            createDishCard(dish) {
                const gradients = [
                    'from-orange-400 to-red-500',
                    'from-pink-400 to-orange-500',
                    'from-yellow-400 to-orange-500',
                    'from-green-400 to-blue-500',
                    'from-purple-400 to-pink-500',
                    'from-blue-400 to-purple-500'
                ];
                const randomGradient = gradients[Math.floor(Math.random() * gradients.length)];

                const card = document.createElement('div');
                card.className = 'dish-card bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300';
                card.setAttribute('data-category', dish.category);
                card.setAttribute('data-dish-id', dish.id);

                card.innerHTML = `
                    <div class="relative">
                        <div class="h-48 bg-gradient-to-br ${randomGradient} flex items-center justify-center">
                            ${dish.imageUrl ? 
                                `<img src="${dish.imageUrl}" alt="${dish.name}" class="w-full h-full object-cover" onerror="this.style.display='none'; this.parentElement.innerHTML='<span class=\\'text-6xl\\'>${dish.emoji}</span>';">` :
                                `<span class="text-6xl">${dish.emoji}</span>`
                            }
                        </div>
                        <div class="absolute top-4 right-4 price-tag text-white px-3 py-1 rounded-full text-sm font-bold">
                            ${dish.price}
                        </div>
                        ${dish._offline ? '<div class="absolute top-4 left-4 bg-orange-500 text-white px-2 py-1 rounded text-xs">📱 Offline</div>' : ''}
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">${dish.name}</h3>
                        <p class="text-gray-600 mb-4 text-sm leading-relaxed">${dish.description}</p>
                        <button onclick="openWhatsApp('${dish.name} - ${dish.price}')" class="whatsapp-btn w-full text-white font-semibold py-3 px-4 rounded-lg flex items-center justify-center gap-2">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
                            </svg>
                            Pedir Agora
                        </button>
                    </div>
                `;

                return card;
            }
        }

        // Initialize database manager
        const dbManager = new DatabaseManager();

        // Banner Carousel
        const slides = document.querySelectorAll('.banner-slide');
        const indicators = document.querySelectorAll('.banner-indicator');
        
        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.toggle('active', i === index);
            });
            indicators.forEach((indicator, i) => {
                indicator.classList.toggle('active', i === index);
            });
        }
        
        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }
        
        // Auto-advance slides
        setInterval(nextSlide, 4000);
        
        // Manual slide control
        indicators.forEach((indicator, index) => {
            indicator.addEventListener('click', () => {
                currentSlide = index;
                showSlide(currentSlide);
            });
        });

        // Utility functions
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300';
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function searchDishes() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const clearButton = document.getElementById('clearSearch');
            const dishCards = document.querySelectorAll('.dish-card');
            
            if (searchTerm.length > 0) {
                clearButton.classList.remove('hidden');
            } else {
                clearButton.classList.add('hidden');
            }
            
            dishCards.forEach(card => {
                const dishName = card.querySelector('h3').textContent.toLowerCase();
                const dishDescription = card.querySelector('p').textContent.toLowerCase();
                
                if (dishName.includes(searchTerm) || dishDescription.includes(searchTerm)) {
                    card.style.display = 'block';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                } else {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        if (!dishName.includes(searchTerm) && !dishDescription.includes(searchTerm)) {
                            card.style.display = 'none';
                        }
                    }, 300);
                }
            });
        }
        
        function clearSearch() {
            document.getElementById('searchInput').value = '';
            document.getElementById('clearSearch').classList.add('hidden');
            
            const dishCards = document.querySelectorAll('.dish-card');
            dishCards.forEach(card => {
                card.style.display = 'block';
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            });
        }

        function showPrecoBaixo() {
            const dishCards = document.querySelectorAll('.dish-card');
            dishCards.forEach(card => {
                const priceText = card.querySelector('.price-tag').textContent;
                const price = parseFloat(priceText.replace('R$', '').replace(',', '.'));
                
                if (price <= 50) {
                    card.style.display = 'block';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                } else {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        card.style.display = 'none';
                    }, 300);
                }
            });
            
            showNotification('Mostrando pratos com preços baixos!');
        }
        
        function openVinhos() {
            const whatsappNumber = '5583991795370';
            const message = 'Olá! Gostaria de ver a carta de vinhos.';
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
        }
        
        function showPromotion() {
            showNotification('🔥 Promoção especial! Entre em contato pelo WhatsApp para conhecer nossas ofertas!');
            setTimeout(() => {
                openWhatsApp('Promoção');
            }, 2000);
        }
        
        function openBebidas() {
            const whatsappNumber = '5583991795370';
            const message = 'Olá! Gostaria de ver o cardápio de bebidas.';
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
        }

        function openWhatsApp(source) {
            const whatsappNumber = '5583991795370';
            const message = `Olá! Vim através do ${source} e gostaria de fazer um pedido.`;
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
        }

        function openModal(imageSrc) {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            modal.style.display = 'block';
            modalImg.src = imageSrc;
        }
        
        function closeModal() {
            document.getElementById('imageModal').style.display = 'none';
        }
        
        window.onclick = function(event) {
            const modal = document.getElementById('imageModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Show/hide scroll to top button
        window.addEventListener('scroll', function() {
            const scrollToTopBtn = document.getElementById('scrollToTop');
            if (window.pageYOffset > 300) {
                scrollToTopBtn.classList.remove('opacity-0', 'invisible');
                scrollToTopBtn.classList.add('opacity-100', 'visible');
            } else {
                scrollToTopBtn.classList.add('opacity-0', 'invisible');
                scrollToTopBtn.classList.remove('opacity-100', 'visible');
            }
        });

        // Admin functionality
        function handleAdminClick() {
            adminClickCount++;
            
            if (adminClickTimer) {
                clearTimeout(adminClickTimer);
            }
            
            adminClickTimer = setTimeout(() => {
                adminClickCount = 0;
            }, 2000);
            
            if (adminClickCount === 3) {
                adminClickCount = 0;
                clearTimeout(adminClickTimer);
                
                const password = prompt('Digite a senha de administrador:');
                
                if (password === 'Vic20142015@') {
                    showNotification('✅ Acesso administrativo concedido!');
                    activateAdminMode();
                } else if (password !== null) {
                    showNotification('❌ Senha incorreta!');
                }
            }
        }

        function activateAdminMode() {
            isAdminMode = true;
            
            showAdminPanel();
            addEditButtons();
            
            document.body.style.border = '5px solid #ff0000';
            document.body.style.boxShadow = '0 0 20px rgba(255, 0, 0, 0.3)';
            
            const adminIndicator = document.createElement('div');
            adminIndicator.id = 'adminIndicator';
            adminIndicator.className = 'fixed top-0 left-0 right-0 bg-red-600 text-white text-center py-2 z-50 font-bold';
            adminIndicator.innerHTML = '🔧 MODO ADMINISTRADOR ATIVO - Clique nos itens para editar';
            document.body.appendChild(adminIndicator);
        }

        function showAdminPanel() {
            const adminPanel = document.createElement('div');
            adminPanel.id = 'adminPanel';
            adminPanel.className = 'fixed bottom-20 right-6 bg-white border-2 border-red-500 rounded-lg shadow-xl p-4 z-50 max-w-sm';
            adminPanel.innerHTML = `
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-bold text-lg text-red-600">Painel Admin</h3>
                    <button onclick="deactivateAdminMode()" class="text-red-500 hover:text-red-700 font-bold text-xl">&times;</button>
                </div>
                <div class="space-y-2">
                    <button onclick="addNewDish()" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded font-semibold">
                        ➕ Adicionar Prato
                    </button>
                    <button onclick="editRestaurantInfo()" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded font-semibold">
                        ✏️ Editar Info do Restaurante
                    </button>
                    <button onclick="exportData()" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white py-2 px-4 rounded font-semibold">
                        💾 Exportar Dados
                    </button>
                    <button onclick="syncData()" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded font-semibold">
                        🔄 Sincronizar
                    </button>
                    <button onclick="clearFirebaseData()" class="w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded font-semibold">
                        🗑️ Limpar Firebase
                    </button>
                </div>
            `;
            document.body.appendChild(adminPanel);
        }

        function addEditButtons() {
            const dishCards = document.querySelectorAll('.dish-card');
            dishCards.forEach((card) => {
                if (!card.querySelector('.admin-controls')) {
                    const dishId = card.getAttribute('data-dish-id');
                    const adminControls = document.createElement('div');
                    adminControls.className = 'admin-controls absolute top-2 left-2 flex gap-1';
                    adminControls.innerHTML = `
                        <button onclick="editDish('${dishId}')" class="bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded text-xs font-semibold">
                            ✏️
                        </button>
                        <button onclick="deleteDish('${dishId}')" class="bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-xs font-semibold">
                            🗑️
                        </button>
                    `;
                    card.style.position = 'relative';
                    card.appendChild(adminControls);
                }
            });
        }

        function deactivateAdminMode() {
            isAdminMode = false;
            
            const adminPanel = document.getElementById('adminPanel');
            if (adminPanel) adminPanel.remove();
            
            const adminIndicator = document.getElementById('adminIndicator');
            if (adminIndicator) adminIndicator.remove();
            
            document.querySelectorAll('.admin-controls').forEach(control => control.remove());
            
            document.body.style.border = '';
            document.body.style.boxShadow = '';
            
            showNotification('❌ Modo administrador desativado');
        }

        async function editDish(dishId) {
            const dish = allDishes.find(d => d.id === dishId);
            if (!dish) return;
            
            const editModal = document.createElement('div');
            editModal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            editModal.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-96 overflow-y-auto">
                    <h3 class="text-xl font-bold mb-4">Editar Prato</h3>
                    <form onsubmit="saveDishEdit(event, '${dishId}')">
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Nome do Prato:</label>
                            <input type="text" id="editTitle" value="${dish.name}" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Descrição:</label>
                            <textarea id="editDescription" class="w-full border rounded px-3 py-2 h-20" required>${dish.description}</textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Preço:</label>
                            <input type="text" id="editPrice" value="${dish.price}" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Categoria:</label>
                            <select id="editCategory" class="w-full border rounded px-3 py-2" required>
                                <option value="entradas" ${dish.category === 'entradas' ? 'selected' : ''}>Entradas</option>
                                <option value="pratos-principais" ${dish.category === 'pratos-principais' ? 'selected' : ''}>Pratos Principais</option>
                                <option value="executivos" ${dish.category === 'executivos' ? 'selected' : ''}>Pratos Executivos</option>
                                <option value="sobremesas" ${dish.category === 'sobremesas' ? 'selected' : ''}>Sobremesas</option>
                            </select>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Emoji/Ícone:</label>
                            <input type="text" id="editEmoji" value="${dish.emoji}" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">URL da Imagem (opcional):</label>
                            <input type="url" id="editImageUrl" value="${dish.imageUrl || ''}" placeholder="https://exemplo.com/imagem.jpg" class="w-full border rounded px-3 py-2">
                        </div>
                        <div class="flex gap-2">
                            <button type="submit" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded font-semibold flex-1">
                                💾 Salvar
                            </button>
                            <button type="button" onclick="this.closest('.fixed').remove()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded font-semibold">
                                ❌ Cancelar
                            </button>
                        </div>
                    </form>
                </div>
            `;
            document.body.appendChild(editModal);
        }

        async function saveDishEdit(event, dishId) {
            event.preventDefault();
            
            const dishData = {
                name: document.getElementById('editTitle').value,
                description: document.getElementById('editDescription').value,
                price: document.getElementById('editPrice').value,
                category: document.getElementById('editCategory').value,
                emoji: document.getElementById('editEmoji').value,
                imageUrl: document.getElementById('editImageUrl').value
            };
            
            try {
                await dbManager.updateDish(dishId, dishData);
                event.target.closest('.fixed').remove();
                showNotification('✅ Prato atualizado com sucesso!');
            } catch (error) {
                showNotification('❌ Erro ao atualizar prato');
            }
        }

        async function deleteDish(dishId) {
            const dish = allDishes.find(d => d.id === dishId);
            if (!dish) return;
            
            if (confirm(`Tem certeza que deseja excluir "${dish.name}"?`)) {
                try {
                    await dbManager.deleteDish(dishId);
                    showNotification(`🗑️ "${dish.name}" foi removido do cardápio`);
                } catch (error) {
                    showNotification('❌ Erro ao excluir prato');
                }
            }
        }

        function addNewDish() {
            const addModal = document.createElement('div');
            addModal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            addModal.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-96 overflow-y-auto">
                    <h3 class="text-xl font-bold mb-4">Adicionar Novo Prato</h3>
                    <form onsubmit="saveNewDish(event)">
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Categoria:</label>
                            <select id="newCategory" class="w-full border rounded px-3 py-2" required>
                                <option value="entradas">Entradas</option>
                                <option value="pratos-principais">Pratos Principais</option>
                                <option value="executivos">Pratos Executivos</option>
                                <option value="sobremesas">Sobremesas</option>
                            </select>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Nome do Prato:</label>
                            <input type="text" id="newTitle" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Descrição:</label>
                            <textarea id="newDescription" class="w-full border rounded px-3 py-2 h-20" required></textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Preço:</label>
                            <input type="text" id="newPrice" placeholder="R$ 25,90" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Emoji/Ícone:</label>
                            <input type="text" id="newEmoji" placeholder="🍕" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">URL da Imagem (opcional):</label>
                            <input type="url" id="newImageUrl" placeholder="https://exemplo.com/imagem.jpg" class="w-full border rounded px-3 py-2">
                        </div>
                        <div class="flex gap-2">
                            <button type="submit" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded font-semibold flex-1">
                                ➕ Adicionar
                            </button>
                            <button type="button" onclick="this.closest('.fixed').remove()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded font-semibold">
                                ❌ Cancelar
                            </button>
                        </div>
                    </form>
                </div>
            `;
            document.body.appendChild(addModal);
        }

        async function saveNewDish(event) {
            event.preventDefault();
            
            const dishData = {
                name: document.getElementById('newTitle').value,
                description: document.getElementById('newDescription').value,
                price: document.getElementById('newPrice').value,
                category: document.getElementById('newCategory').value,
                emoji: document.getElementById('newEmoji').value,
                imageUrl: document.getElementById('newImageUrl').value
            };
            
            try {
                await dbManager.saveDish(dishData);
                event.target.closest('.fixed').remove();
                showNotification(`✅ "${dishData.name}" foi adicionado ao cardápio!`);
            } catch (error) {
                showNotification('❌ Erro ao adicionar prato');
            }
        }

        function editRestaurantInfo() {
            const editModal = document.createElement('div');
            editModal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            editModal.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
                    <h3 class="text-xl font-bold mb-4">Editar Informações do Restaurante</h3>
                    <form onsubmit="saveRestaurantInfo(event)">
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Nome do Restaurante:</label>
                            <input type="text" id="restaurantTitle" value="${restaurantInfo.name}" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Slogan:</label>
                            <input type="text" id="restaurantSubtitle" value="${restaurantInfo.slogan}" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold mb-2">Telefone:</label>
                            <input type="text" id="restaurantPhone" value="${restaurantInfo.phone}" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <div class="flex gap-2">
                            <button type="submit" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded font-semibold flex-1">
                                💾 Salvar
                            </button>
                            <button type="button" onclick="this.closest('.fixed').remove()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded font-semibold">
                                ❌ Cancelar
                            </button>
                        </div>
                    </form>
                </div>
            `;
            document.body.appendChild(editModal);
        }

        function saveRestaurantInfo(event) {
            event.preventDefault();
            
            restaurantInfo.name = document.getElementById('restaurantTitle').value;
            restaurantInfo.slogan = document.getElementById('restaurantSubtitle').value;
            restaurantInfo.phone = document.getElementById('restaurantPhone').value;
            
            document.getElementById('restaurantName').textContent = restaurantInfo.name;
            document.getElementById('restaurantSlogan').textContent = restaurantInfo.slogan;
            document.getElementById('restaurantPhone').textContent = restaurantInfo.phone;
            
            // Save to localStorage
            localStorage.setItem('restaurantInfo', JSON.stringify(restaurantInfo));
            
            event.target.closest('.fixed').remove();
            showNotification('✅ Informações do restaurante atualizadas!');
        }

        function exportData() {
            const exportData = {
                dishes: allDishes,
                restaurantInfo: restaurantInfo,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `cardapio-backup-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            URL.revokeObjectURL(url);
            showNotification('💾 Dados do cardápio exportados!');
        }

        function syncData() {
            if (dbManager.isOnline) {
                dbManager.syncOfflineChanges();
            } else {
                showNotification('📱 Sem conexão com a internet');
            }
        }

        async function clearFirebaseData() {
            if (!confirm('⚠️ ATENÇÃO: Isso vai apagar TODOS os pratos do Firebase permanentemente!\n\nTem certeza que deseja continuar?')) {
                return;
            }
            
            if (!confirm('🚨 ÚLTIMA CONFIRMAÇÃO: Todos os dados serão perdidos!\n\nDigite "CONFIRMAR" para prosseguir:')) {
                return;
            }
            
            try {
                await clearAllDishesFromFirebase();
                showNotification('✅ Firebase limpo com sucesso!');
            } catch (error) {
                showNotification('❌ Erro ao limpar Firebase');
            }
        }

        // Load restaurant info from localStorage
        function loadRestaurantInfo() {
            const savedInfo = localStorage.getItem('restaurantInfo');
            if (savedInfo) {
                restaurantInfo = JSON.parse(savedInfo);
                document.getElementById('restaurantName').textContent = restaurantInfo.name;
                document.getElementById('restaurantSlogan').textContent = restaurantInfo.slogan;
                document.getElementById('restaurantPhone').textContent = restaurantInfo.phone;
            }
        }

        // Test Firebase connection
        async function testFirebaseConnection() {
            try {
                console.log('🔥 Testando conexão Firebase...');
                
                // Test basic connection
                if (!window.db) {
                    throw new Error('Firebase não inicializado');
                }
                
                // Test Firestore access
                const testCollection = window.firestore.collection(window.db, 'dishes');
                console.log('✅ Firestore conectado com sucesso!');
                
                // Try to read data
                const snapshot = await window.firestore.getDocs(testCollection);
                console.log(`📊 Encontrados ${snapshot.size} documentos na coleção 'dishes'`);
                
                // Show success notification
                showNotification(`🎉 Firebase conectado! ${snapshot.size} pratos carregados`);
                
                return true;
                
            } catch (error) {
                console.error('❌ Erro na conexão Firebase:', error);
                showNotification(`❌ Erro Firebase: ${error.message}`);
                return false;
            }
        }

        // Function to clear all dishes from Firebase
        async function clearAllDishesFromFirebase() {
            try {
                console.log('🗑️ Limpando todos os pratos do Firebase...');
                showNotification('🗑️ Removendo todos os pratos do Firebase...');
                
                // Get all documents from dishes collection
                const querySnapshot = await window.firestore.getDocs(
                    window.firestore.collection(window.db, 'dishes')
                );
                
                let deleteCount = 0;
                const deletePromises = [];
                
                querySnapshot.forEach((doc) => {
                    const deletePromise = window.firestore.deleteDoc(
                        window.firestore.doc(window.db, 'dishes', doc.id)
                    );
                    deletePromises.push(deletePromise);
                    deleteCount++;
                });
                
                // Wait for all deletions to complete
                await Promise.all(deletePromises);
                
                console.log(`✅ ${deleteCount} pratos removidos do Firebase!`);
                showNotification(`🗑️ ${deleteCount} pratos removidos do Firebase!`);
                
                // Clear local data as well
                allDishes = [];
                localStorage.removeItem('dishes');
                
                // Clear all grids
                document.getElementById('entradasGrid').innerHTML = '<div class="col-span-full text-center py-8 text-gray-500">Nenhum prato cadastrado</div>';
                document.getElementById('pratosGrid').innerHTML = '<div class="col-span-full text-center py-8 text-gray-500">Nenhum prato cadastrado</div>';
                document.getElementById('executivosGrid').innerHTML = '<div class="col-span-full text-center py-8 text-gray-500">Nenhum prato cadastrado</div>';
                document.getElementById('sobremesasGrid').innerHTML = '<div class="col-span-full text-center py-8 text-gray-500">Nenhum prato cadastrado</div>';
                
                return deleteCount;
                
            } catch (error) {
                console.error('❌ Erro ao limpar Firebase:', error);
                showNotification(`❌ Erro ao limpar Firebase: ${error.message}`);
                throw error;
            }
        }

        // Function to add all dishes to Firebase
        async function addAllDishesToFirebase() {
            const dishesToAdd = [
                {
                    name: 'Pastéis Sortidos',
                    description: 'Pastéis de carne, pepperoni, costela e carne de sol.',
                    price: 'R$ 29,90',
                    category: 'entradas',
                    emoji: '🥟'
                },
                {
                    name: 'Pastéis de Camarão',
                    description: 'Pastéis com cream cheese e creme de camarão, servidos com molho de ervas.',
                    price: 'R$ 34,90',
                    category: 'entradas',
                    emoji: '🦐'
                },
                {
                    name: 'Fritapá de Camarão',
                    description: 'Bolinho frito de vatapá de camarão com base de moqueca, crocante por fora e cremoso por dentro.',
                    price: 'R$ 25,90',
                    category: 'entradas',
                    emoji: '🍤'
                },
                {
                    name: 'Ensopado de Vaca Atolada',
                    description: 'Caldinho cremoso de costela com macaxeira.',
                    price: 'R$ 15,90',
                    category: 'entradas',
                    emoji: '🍲'
                },
                {
                    name: 'Caldo da Caridade',
                    description: 'Caldo de carne moída com legumes.',
                    price: 'R$ 16,90',
                    category: 'entradas',
                    emoji: '🥣'
                },
                {
                    name: 'Carne de Sol com Macaxeira',
                    description: 'Carne de sol salteada na manteiga da terra e cebolas roxas, servida com macaxeira cremosa e cubos de queijo coalho.',
                    price: 'R$ 39,90',
                    category: 'entradas',
                    emoji: '🥩'
                },
                {
                    name: 'Sol do Sertão',
                    description: 'Chips crocantes de macaxeira servidas com carne de sol desfiada e creme de nata.',
                    price: 'R$ 29,90',
                    category: 'entradas',
                    emoji: '🌞'
                },
                {
                    name: 'Batata Frita',
                    description: 'Palitos de batata inglesa crocantes com raspas de queijo e molho da casa.',
                    price: 'R$ 16,90',
                    category: 'entradas',
                    emoji: '🍟'
                },
                {
                    name: 'Franguim Avuado',
                    description: 'Meio da asa marinada no sous vide, frita e servida com molho barbecue asiático de abacaxi e gergelim.',
                    price: 'R$ 29,90',
                    category: 'entradas',
                    emoji: '🍗'
                },
                {
                    name: 'Croquetas Caipira',
                    description: 'Croquetas de frango recheadas com milho e bacon.',
                    price: 'R$ 19,90',
                    category: 'entradas',
                    emoji: '🌽'
                },
                {
                    name: 'Sushi de Carrazera',
                    description: 'Sushi crocante com massa de macaxeira, cubos de charque e carne de sol, servido com molho de rapadura.',
                    price: 'R$ 34,90',
                    category: 'entradas',
                    emoji: '🍣'
                },
                {
                    name: 'Isca de Tucunaré',
                    description: 'Tiras de tucunaré à milanesa servidas com molho rosé.',
                    price: 'R$ 32,90',
                    category: 'entradas',
                    emoji: '🐟'
                },
                {
                    name: 'Filé no Panne',
                    description: 'Tiras de filé mignon salteadas com creme de gorgonzola, servidas no pão italiano quentinho.',
                    price: 'R$ 79,90',
                    category: 'entradas',
                    emoji: '🥩'
                },
                {
                    name: 'Ai Meu Coração',
                    description: 'Coração de galinha marinado no shoyu, salteado no molho oriental e servido com chips de macaxeira.',
                    price: 'R$ 32,90',
                    category: 'entradas',
                    emoji: '❤️'
                },
                {
                    name: 'Camarão Alho e Óleo',
                    description: 'Camarão com casca salteado no azeite de oliva, alho e limão.',
                    price: 'R$ 54,90',
                    category: 'entradas',
                    emoji: '🦐'
                }
            ];

            try {
                showNotification('🍤 Cadastrando petiscos e pratos no Firebase...');
                
                let addedCount = 0;
                for (const dish of dishesToAdd) {
                    await dbManager.saveDish({
                        ...dish,
                        imageUrl: ''
                    });
                    addedCount++;
                    console.log(`✅ Adicionado: ${dish.name}`);
                }
                
                showNotification(`🎉 ${addedCount} pratos cadastrados com sucesso no Firebase!`);
                console.log(`🎉 Total de ${addedCount} pratos adicionados ao Firebase!`);
                
            } catch (error) {
                console.error('❌ Erro ao cadastrar pratos:', error);
                showNotification('❌ Erro ao cadastrar alguns pratos');
            }
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            loadRestaurantInfo();
            
            // Wait for Firebase to load, then add all dishes
            setTimeout(async () => {
                if (window.db) {
                    const connected = await testFirebaseConnection();
                    if (connected) {
                        console.log('🍤 Cadastrando petiscos e pratos no Firebase...');
                        await addAllDishesToFirebase();
                    } else {
                        console.warn('Falha na conexão, usando dados locais');
                        dbManager.loadFromLocalStorage();
                    }
                } else {
                    console.warn('Firebase não carregado, usando dados locais');
                    showNotification('📱 Modo offline - usando dados locais');
                    dbManager.loadFromLocalStorage();
                }
            }, 2000);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'989530eba0952755',t:'MTc1OTU4NjI3NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
